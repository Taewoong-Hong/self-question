# PRD: 회원가입 없는 비밀번호 기반 설문 게시판

## 1) 제품 요약

* **한 줄 요약**: 누구나 설문지를 만들어 메인 게시판에 공개할 수 있고, 작성자는 설문별 비밀번호로 관리하며, 응답자는 IP당 1회만 응답 가능.
* **주요 사용자**

  * **작성자**: 설문 생성 및 비밀번호로 관리.
  * **응답자**: 설문 응답(1 IP당 1회 제한).
  * **운영자(내부)**: 신고/악성 설문 관리.
* **목표 (MVP)**

  1. 계정 없이 설문 생성 및 게시.
  2. 메인 게시판에서 설문 목록 제공(검색/정렬 가능).
  3. IP당 1회 응답 제한.
  4. 설문별 비밀번호 기반 관리 페이지.
  5. 결과 CSV 다운로드 및 기본 통계 제공.

## 2) 범위

* **포함**: 설문 생성, 메인 게시판, 응답 수집, IP 중복 방지, 비밀번호 기반 관리자 페이지, CSV 내보내기, 기본 통계, 신고 기능, 설문 열기/닫기.
* **제외 (MVP)**: 고급 로직/분기, 결제, 소셜 로그인, 조직 단위 워크스페이스, 고급 분석, 웹훅(추후 고려).

## 3) 성공 지표

* 첫 설문 게시까지 소요 시간 < 60초.
* 설문 완성률 80% 이상.
* 중복 응답(동일 IP) 비율 < 0.5%.
* 월 가동률 99.5% 이상, 한국 내 p95 페이지 로드 2.5초 이하.

## 4) 사용자 시나리오

* **작성자**

  * 제목, 설명, 질문, 관리자 비밀번호 입력 후 설문 생성.
  * 설문 공유 URL과 관리자 URL 즉시 발급.
  * 첫 응답 전까지 설문 수정 가능, 이후 열기/닫기 제어.
  * 응답 CSV 다운로드 및 기본 차트 제공.
  * 필요 시 특정 응답 삭제 또는 IP 제한 해제 가능.
* **응답자**

  * 설문 접속 후 응답 제출.
  * 동일 IP에서 재응답 시 제한 메시지 표시.
  * 응답 완료 후 확인 화면 및 응답 코드 제공(개인정보 없음).
* **운영자**

  * 악성 설문 숨기기/삭제.
  * 악성 작성자 IP 차단.

## 5) 핵심 기능 요구사항

### 5.1 메인 게시판

* 카드 형태로 제목, 생성일, 상태(열림/닫힘), 응답 수, 태그(선택), 작성자 별명(선택) 표시.
* 정렬: 최신순, 응답수순.
* 필터: 열림만 보기, 태그별 필터.
* 검색: 제목/설명 전체 검색.
* 페이지네이션(무한 스크롤 또는 페이지 번호).

### 5.2 설문 생성

* 필드: 제목(필수), 설명(선택, 마크다운 일부 지원), 태그(선택), 관리자 비밀번호(필수, 8자 이상).
* **질문 유형 (MVP)**: 단일 선택, 다중 선택, 단답, 장문, 평점(1\~5).
* 검증: 필수 여부, 길이 제한, 옵션 개수 제한.
* 관리자 접속: 비밀번호 입력 후 해당 설문 전용 관리자 토큰 발급(HTTP-only 쿠키 또는 서명된 localStorage 토큰).

### 5.3 설문 상세 (공개 화면)

* 제목, 설명, 시작 버튼, 진행 상황 표시.
* 클라이언트 검증, 로컬 임시 저장(선택).
* **IP 제한 동작**: 페이지 로드 시 서버에서 해당 IP 응답 여부 확인 후 제한 메시지 표시.
* 닫힘 상태: “이 설문은 현재 응답을 받지 않습니다.” 배너 표시.

### 5.4 응답 처리 및 IP 중복 방지

* 제출 시 서버 절차:

  1. 설문 상태 확인.
  2. IP 중복 여부 확인.
  3. 응답 저장 후 IP 잠금 처리.
  4. 응답 수 업데이트.
* CSV/통계: 응답 데이터 다운로드, 기본 통계 차트(응답 분포 등) 제공.
